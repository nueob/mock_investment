
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dashboard - Mazer Admin Dashboard</title>
    
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.css">
    
        <link rel="stylesheet" href="/vendors/iconly/bold.css">
    
        <link rel="stylesheet" href="/vendors/perfect-scrollbar/perfect-scrollbar.css">
        <link rel="stylesheet" href="/vendors/bootstrap-icons/bootstrap-icons.css">
        <link rel="stylesheet" type="text/css" href="/stylesheets/app.css">
        <!-- <link rel="shortcut icon" href="/images/favicon.svg" type="image/x-icon"> -->
    </head>
<!-- RawGit CDN chart.css -->
<link rel="stylesheet" href="https://cdn.rawgit.com/theus/chart.css/v1.0.0/dist/chart.css" />

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">

<style>
body {
    background-color: #ebf3ff;
}
/*검색창 css*/
.form-control-borderless {
    border: none;
}

.form-control-borderless:hover, .form-control-borderless:active, .form-control-borderless:focus {
    border: none;
    outline: none;
    box-shadow: none;
}
</style>
<style>.cen{text-align: center;}</style>
<!-- <style>.cen{justify-content: center;align-items: center;}</style> -->
<body>
<div class="page-heading">
    <div class="container">
        <br/>
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8">
                <form class="card card-sm"  style="border:0">
                    <div class="card-body row no-gutters align-items-center" style="padding:0.5rem;">
                        <div class="col-auto">
                            <i class="fas fa-search h4 text-body"></i>
                        </div>
                        <!--end of col-->
                        <div class="col">
                            <input class="form-control form-control-lg form-control-borderless" id="searching" type="search" placeholder="Search topics or keywords" >
                        </div>
                        <!--end of col-->
                        <div class="col-auto">
                            <button class="btn btn-lg btn-success" type="submit" id= "searching_button" onclick="select(); return false;" style="background-color: #435ebe;border-color: #435ebe; ">Search</button>
                        </div>
                        <!--end of col-->
                    </div>
                </form>
            </div>
            <!--end of col-->
        </div>
    </div>    
</div>
    <div class="page-content">
        <section class="row">
            <div class="col-12 col-lg-9">
                <h3 class="card-body" style="padding-bottom: 10px;">몽심</h3>
                <div class="card-body" style="border:0">
                    <div class="card-body px-3 py-4-5" style="background-color: #fff;border:0">
                        <div class="row">
                            <div class="col-md-2">
                                <h6 class="font-extrabold mb-0"></h6>
                                <h6 class="text-muted font-semibold">설립 년도</h6>
                                <h6 class="font-extrabold mb-0">2020-04-10</h6>
                                <h6 class="font-extrabold mb-0"></h6>
                            </div>
                            <div class="col-md-2">
                                <h6 class="text-muted font-semibold">10,000</h6>
                                <h6 class="font-extrabold mb-0">▲500(5.00%)</h6>
                            </div>
                            <div class="col-md-2">
                                <h6 class="text-muted font-semibold">거래량</h6>
                                <h6 class="font-extrabold mb-0">1,195,797</h6>
                            </div>
                            <div class="col-md-2">
                                <div class="buttons">
                                    <a href="#" class="btn btn-light">실시간 차트</a>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="buttons">
                                    <a href="/search/companyInfo" class="btn btn-light">기업 정보</a>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="buttons">
                                    <a href="search/discussion" class="btn btn-light">종목 토론</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                    <div class="card-body">
                        <div class="table-responsive"  style="background-color: #fff;border:0">
                            <div id="container" style="height: 400px; min-width: 310px" ></div>
                        </div>
                    </div>
                    <div class="card-body" style="padding-top:35px">
                        <div class="card" style="border:0;">
                            <div class="card-body">
                                <div class="row">
                                    <h6 class="text-muted font-semibold">최신 기업 뉴스</h6>
                                    <h6 class="font-extrabold mb-0">
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, commodi? Ullam quaerat
                                        similique iusto
                                        temporibus, vero aliquam praesentium, odit deserunt eaque nihil saepe hic deleniti? Placeat
                                        delectus
                                        quibusdam ratione ullam!
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, commodi? Ullam quaerat
                                        similique iusto
                                        temporibus, vero aliquam praesentium, odit deserunt eaque nihil saepe hic deleniti? Placeat
                                        delectus
                                        quibusdam ratione ullam!
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, commodi? Ullam quaerat
                                        similique iusto
                                        temporibus, vero aliquam praesentium, odit deserunt eaque nihil saepe hic deleniti? Placeat
                                        delectus
                                        quibusdam ratione ullam!
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, commodi? Ullam quaerat
                                        similique iusto
                                        temporibus, vero aliquam praesentium, odit deserunt eaque nihil saepe hic deleniti? Placeat
                                        delectus
                                        quibusdam ratione ullam!
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, commodi? Ullam quaerat
                                        similique iusto
                                        temporibus, vero aliquam praesentium, odit deserunt eaque nihil saepe hic deleniti? Placeat
                                        delectus
                                        quibusdam ratione ullam!
                                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, commodi? Ullam quaerat
                                        similique iusto
                                        temporibus, vero aliquam praesentium, odit deserunt eaque nihil saepe hic deleniti? Placeat
                                        delectus
                                        quibusdam ratione ullam!
                                    </h6>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-3">
                    <!-- <div class="card-body px-3 py-4-5">
                        <div class="row">
                            <div class="col-md-2">
                                <h6 class="font-extrabold mb-0"></h6>
                                <h6 class="text-muted font-semibold"></h6>
                                <h6 class="font-extrabold mb-0"></h6>
                                <h6 class="font-extrabold mb-0"></h6>
                            </div>
                            <div class="col-md-2">
                                <h6 class="text-muted font-semibold"></h6>
                                <h6 class="font-extrabold mb-0"></h6>
                            </div>
                            <div class="col-md-2">
                                <h6 class="text-muted font-semibold"></h6>
                                <h6 class="font-extrabold mb-0"></h6>
                            </div>
                            <div class="col-md-2">
                            </div>
                            <div class="col-md-2">
                            </div>
                            <div class="col-md-2">
                            </div>
                        </div>
                    </div> -->
                    <div class="card" style="overflow:scroll; width:300px; height:500px;">
                        <div class="card-header">
                            <h4>종목 실시간 Best</h4>
                        </div>
                        <div class="card-content pb-4">
                            <div class="recent-message d-flex px-4 py-3">
                                <div class="avatar avatar-lg">
                                    <h6>삼성전자</h6>
                                </div>
                                <div class="name ms-4">
                                    <h5 class="mb-1">70,100</h5>
                                    <h6 class="text-muted mb-0">▲991</h6>
                                </div>
                                <div class="name ms-3">
                                    <h6 class="text-muted mb-0">1.3%</h6>
                                </div>
                            </div>
                            <div class="recent-message d-flex px-4 py-3">
                                <div class="avatar avatar-lg">
                                    <h6>SK하이닉스</h6>
                                </div>
                                <div class="name ms-4">
                                    <h5 class="mb-1">90,100</h5>
                                    <h6 class="text-muted mb-0">▲1100</h6>
                                </div>
                                <div class="name ms-3">
                                    <h6 class="text-muted mb-0">0.9%</h6>
                                </div>
                            </div>
                            <div class="recent-message d-flex px-4 py-3">
                                <div class="avatar avatar-lg">
                                    <h6>카카오</h6>
                                </div>
                                <div class="name ms-4">
                                    <h5 class="mb-1">150,100</h5>
                                    <h6 class="text-muted mb-0">▲2,500</h6>
                                </div>
                                <div class="name ms-3">
                                    <h6 class="text-muted mb-0">2.0%</h6>
                                </div>
                            </div>
                            <div class="recent-message d-flex px-4 py-3">
                                <div class="avatar avatar-lg">
                                    <h6>SK하이닉스</h6>
                                </div>
                                <div class="name ms-4">
                                    <h5 class="mb-1">90,100</h5>
                                    <h6 class="text-muted mb-0">▲1100</h6>
                                </div>
                                <div class="name ms-3">
                                    <h6 class="text-muted mb-0">0.9%</h6>
                                </div>
                            </div>
                            <div class="recent-message d-flex px-4 py-3">
                                <div class="avatar avatar-lg">
                                    <h6>SK하이닉스</h6>
                                </div>
                                <div class="name ms-4">
                                    <h5 class="mb-1">90,100</h5>
                                    <h6 class="text-muted mb-0">▲1100</h6>
                                </div>
                                <div class="name ms-3">
                                    <h6 class="text-muted mb-0">0.9%</h6>
                                </div>
                            </div>
                            <div class="recent-message d-flex px-4 py-3">
                                <div class="avatar avatar-lg">
                                    <h6>SK하이닉스</h6>
                                </div>
                                <div class="name ms-4">
                                    <h5 class="mb-1">90,100</h5>
                                    <h6 class="text-muted mb-0">▲1100</h6>
                                </div>
                                <div class="name ms-3">
                                    <h6 class="text-muted mb-0">0.9%</h6>
                                </div>
                            </div>
                            <div class="recent-message d-flex px-4 py-3">
                                <div class="avatar avatar-lg">
                                    <h6>SK하이닉스</h6>
                                </div>
                                <div class="name ms-4">
                                    <h5 class="mb-1">90,100</h5>
                                    <h6 class="text-muted mb-0">▲1100</h6>
                                </div>
                                <div class="name ms-3">
                                    <h6 class="text-muted mb-0">0.9%</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card" style="width:300px; height:500px;">
                        <div class="card-header" >
                            <div class="nav nav-pills" id="v-pills-tab" role="tablist">
                                <a class="nav-link active" style="width:80px; float:left;" id="v-pills-home-tab" data-bs-toggle="pill"
                                    href="#v-pills-home" role="tab" aria-controls="v-pills-home"
                                    aria-selected="true">매수</a>
                                <a class="nav-link" style="float:left; width:80px;" id="v-pills-profile-tab" data-bs-toggle="pill"
                                    href="#v-pills-profile" role="tab" aria-controls="v-pills-profile"
                                    aria-selected="false">매도</a>
                            </div>
                        </div>
                        <div class="tab-content" id="v-pills-tabContent">
                            <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel"
                                aria-labelledby="v-pills-home-tab">
                                <button class='cen' id="order_buy" onclick="buy();">매수주문</button>
                                <div class="table-responsive">
                                    <table class="table ">
                                        <tbody>
                                            <tr style="text-align:center;">
                                                <th>수량</th>
                                                <td>
                                                    <button class="btn btn-block btn-xl btn-light-primary font-bold mt-3" style="width:50%; "type ="button" onclick="fnCalCount('p',this);">+</button>
                                                    <input type="number" id="get_count" value="0" readonly="readonly" style="text-align:center;"/>
                                                    <button class="btn btn-block btn-xl btn-light-primary font-bold mt-3" style="width:50%;"type="button" onclick="fnCalCount('m', this);">-</button>
                                                </td>
                                            </tr>
                                            <tr style="text-align:center;">
                                                <th>1주 가격</th>
                                                <td>
                                                    <input type="number" id="price" value='<%= money[0].company_stock %>' readonly="readonly"/>
                                                </td>
                                            </tr>
                                            <tr style="text-align:center;">
                                                <th>주문금액</th>
                                                <td>
                                                    <input type="number" id="total" value='<%= money[0].company_stock %>' readonly="readonly"/>
                                                </td>
    
                                            </tr>
                                            
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="v-pills-profile" role="tabpanel"
                                aria-labelledby="v-pills-profile-tab">
                                <button class='cen' onclick="sell();">매도주문</button>
                                <div class="table-responsive">
                                    <table class="table ">
                                        
                                        <tbody>
                                            <tr style="text-align:center;">
                                                <th>수량</th>
                                                <td>
                                                    <button class="btn btn-block btn-xl btn-light-primary font-bold mt-3" style="width:50%; "type ="button" onclick="fnCalCount2('z',this);">+</button>
                                                    <input type="text" id="sell_count" value="0" readonly="readonly" style="text-align:center;"/>
                                                    <button class="btn btn-block btn-xl btn-light-primary font-bold mt-3" style="width:50%;"type="button" onclick="fnCalCount2('k', this);">-</button>
                                                </td>
                                            </tr>
                                            <tr style="text-align:center;">
                                                <th>1주 가격</th>
                                                <td>
                                                    <input type="number" id="price2" value='<%= money[0].company_stock %>' readonly="readonly"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="text-bold-500">주문금액</th>
                                                <td><input type="number" id="total2" value='<%= money[0].company_stock %>' readonly="readonly"/></td>
                                            </tr>
                                            
                                        </tbody>
                                    </table>
                                </div>
                            
                            </div>
                    </div>
                </div>
        </section>
    </div>
</body>
<script src="javascripts/main.js"></script>
<script>
function buy(){
    var stock = $("input[id='get_count']").val();
    var company_Idx = 1;
    if(stock != ""){
        alert(stock);
        $.ajax({
                url:'/search/buy',
                type:'POST',
                data:{
                    'stock': stock,
                    'company_Idx' : company_Idx
                },
                success : function(result) {
                    alert('매수 성공');
                    location.reload();
                }
            })
    }else{
        alert('매수 실패');
    }
}
function sell(){
    var stock = $("input[id='sell_count']").val()
    var company_Idx = 1;
    if(stock != ""){
        alert(stock);
        $.ajax({
            url:'/search/sell',
            type:'POST',
            data:{
                'stock':stock,
                'company_Idx' : company_Idx

            },
            success : function(result) {
                alert('매도 성공');
                location.reload();
            }
        })
    }else{
        alert('매도 실패');
    }
}
function select(){
    var search_value = $('#searching').val();
    if(search_value == '예순이네'){
        location.href = '/search/yesunine';
    }
    else if(search_value == '몽심'){
        location.href = '/search';
    }else{
        alert('다른 기업을 검색해주세요');
    }
}
function fnCalCount(type, ths){
    var $input = $(ths).parents("td").find("input[id='get_count']");
    var $input2 = $("#total");
    var $input3 = $("#price");   
    var tCount = Number($input.val());
    
    if(type=='p'){
        $input.val(Number(tCount)+1);
        $input2.val(Number($input3.val())*(Number(tCount)+1));
    }else{
        if(tCount >0) {
            $input.val(Number(tCount)-1);
            $input2.val(Number($input3.val())*(Number(tCount)-1));
        }
    }
}
function fnCalCount2(type, ths){
    var $input = $(ths).parents("td").find("input[id='sell_count']");
    var $input2 = $('#total2');
    var $input3 = $('#price2');
    var tCount = Number($input.val());
    
    if(type=='z'){
        $input.val(Number(tCount)+1);
        $input2.val(Number($input3.val())*(Number(tCount)+1));
        
    }else{
        if(tCount >0){
            $input.val(Number(tCount)-1);
            $input2.val(Number($input3.val())*(Number(tCount)-1));
        }
    
    }
}
Highcharts.getJSON('https://cdn.jsdelivr.net/gh/highcharts/highcharts@v7.0.0/samples/data/new-intraday.json', function (data) {

// create the chart
Highcharts.stockChart('container', {


    title: {
        text: '몽심'
    },

    rangeSelector: {
        buttons: [{
            type: 'hour',
            count: 1,
            text: '1h'
        }, {
            type: 'day',
            count: 1,
            text: '1D'
        }, {
            type: 'all',
            count: 1,
            text: 'All'
        }],
        selected: 1,
        inputEnabled: false
    },

    series: [{
        name: 'AAPL',
        type: 'candlestick',
        data: data,
        tooltip: {
            valueDecimals: 2
        }
    }]
});
});

// Highcharts.chart('container', {

//     title: {
//         text: '몽심'
//     },

//     subtitle: {
//         text: '차트 서브타이틀'
//     },

//     yAxis: {
//         title: {
//             text: 'y축 타이틀'
//         }
//     },

//     xAxis: {
//         title: {
//             text: 'x축 타이틀'
//         }
//     },
        
</script>